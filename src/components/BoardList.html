<section>
  
  <header>
    <h3 class="title"><i class="icon material-icons">dashboard</i> Boards</h3>
    
    
    <div class="board-actions">
      
      <input ref:boardNameInput type="text" name="board-name" placeholder="new board name" maxlength="40" />
      
      <button class="create-board link" on:click="createBoard(e)">
        <i class="material-icons">playlist_add</i> Add Board
      </button>
    </div>
  </header>
  
  <ul class="boards">
    {{#each $boards as board, index}}
      <li class="item">
        <a class="item__link" href={{`/boards/${board.id}`}}>{{board.name}}</a>
      </li>
    {{/each}}
  </ul>
  
</section>


<style>
  
  section {
    display: flex;
    flex-direction: column;
    flex: 1 1 auto;
    font-size: 1em;
    --input-color:#7a103f;
  }
  
  header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: -1rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid rgba(255,255,255,0.1);
  }
  
  .title {
    padding: 0.65rem 0;
    font-size: 1.4em;
    line-height: 1em;
    color: var(--panel-color);
  }
  
  .board-actions {
    justify-self: flex-end;
    align-self: flex-end;
  }
  
  .icon {
    font-size: 1em;
    line-height: 1em;
  }
  
  button .material-icons {
    margin-right: 0.5em;
  }

  button,
  input {
    padding: 0.25rem 1rem;
    margin: 0rem 0rem;
    font-size: 1rem;
    line-height: 1.6em;
    transition: 0.1s ease-in all;
    font-weight: 400;
    transition: 0.1s ease-out all;
    background-color: transparent;
    background: #000;
    color: var(--input-color);
    border: 2px solid #000;
  }
  
  button {
    cursor: pointer;
  }
  
  button:hover,
  input:hover {
  }
  
  button:active,
  input:active {
    color: #d5341c;
  }
  
  button:focus,
  input:focus {
    outline: none;
    box-shadow: none;
  }
  
  
  input::placeholder {
    color: var(--input-color);
  }
  
  input:active::placeholder {
    color: #000;
  }
  
  .boards {
    margin: 0 0;
    padding: 2rem 0;
    list-style: none;
    display: flex;
    flex-flow: wrap column;
    max-height: 40vh;
    flex: 1 1 auto;
    align-items: flex-start;
    justify-content: space-evenly;
  }
  
  .item {
    padding: 0 0;
    margin: 0 0;
  }
  
  .item__link {
    display: block;
    max-width: 20rem;
    color: #fff;
    padding: 0.25rem 0.5rem;
    margin: 0 0.5rem 0.25rem 0;
    text-decoration: none;
    /*border-bottom: 2px solid transparent;*/
  }
  
  .item__link:hover {
    background-color: #fff;
    color: var(--input-color);
    /*border-bottom: 2px solid #000;*/
    transition: 0.2s ease-out all;
  }
  
</style>

<script>
  
  import { database } from "../firebase.js";
  
  export default {
    
    data() {
      return {
        boards: [],
      }
    },
    
    methods: {
      
      createBoard(e) {
        
        var boardNameInput = this.refs.boardNameInput;
        var name = boardNameInput.value;
        if (name.trim().length >= 5) {
          let boardRef = database.ref(`boards`).push()
          boardRef.set({
            name,
            notes: [],
          });
          boardNameInput.value = ""
        }
      },
      
    }
    
  }
  
  
</script>